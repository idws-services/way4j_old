<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
	<style type="text/css">  
           .ui-widget {  
               font-size: 12px !important;  
           }
       </style>  
	<title>PessoaGrid</title>
</h:head>
<h:body>

	<p:tabView id="tabView">

	<p:tab title="pessoa" id="tabPessoa" closable="true">
		<h:form id="pessoaForm">
			<p:messages />
			<div style="float: left;">
				<p:commandButton value="Excluir" title="Excluir"
					onclick="confirmation.show()" style="margin-left: 5px"
					type="button" />
				<p:commandButton value="Editar" title="Editar" type="button" />
				<p:commandButton value="Cadastrar" title="Cadastrar"
					onclick="pessoaInsertUpdadeDialog.show()" type="button" />
			</div>
			<div style="float: right;">
				<h:panelGrid columns="2">
					<h:outputText id="lbGroupType" value="Agrupamento da Busca rapida:" />
					<p:selectOneRadio id="groupType"
						value="#{pessoaController.listGrid.fastSearchGroupType}">
						<f:selectItem itemLabel="E" itemValue="and" />
						<f:selectItem itemLabel="Ou" itemValue="or" />
						<p:ajax update="pessoaGrid" event="change" />
					</p:selectOneRadio>
					<p:tooltip for="lbGroupType"
						value="Configuração para tipo de agrupamento da busca rápida."
						showEffect="explode" hideEffect="explode" />
				</h:panelGrid>
			</div>

			<p:dataTable id="pessoaGrid" value="#{pessoaController.listGrid}"
				var="pessoa" emptyMessage="Nenhum registro incluido."
				paginator="true" rows="10" rowsPerPageTemplate="5,10,15" lazy="true"
				draggableColumns="true" style="text-align:center;"
				paginatorPosition="top"
				selection="#{pessoaController.selectedItemsFromGrid}"
				selectionMode="single">

				<!--                 <f:facet name="header">   -->
				<!--                 </f:facet> -->

				<!--               	<p:column selectionMode="multiple" style="width:18px" />               -->

				<p:column headerText="Nome" style="text-align:center"
					sortBy="#{pessoa.nome}" filterBy="#{pessoa.nome}">
					<h:outputText value="#{pessoa.nome}" />
				</p:column>

				<p:column headerText="Telefone" style="text-align:center"
					sortBy="#{pessoa.telefone}" filterBy="#{pessoa.telefone}">
					<h:outputText value="#{pessoa.telefone}" />
				</p:column>

			</p:dataTable>

			<p:dialog id="pessoaInsertUpdadeDialog" header="Pessoa"
				widgetVar="pessoaInsertUpdadeDialog" modal="true">
				<h:panelGrid columns="2">
					<h:outputLabel value="Nome:" for="nome" />
					<p:inputText label="nome"
						value="#{pessoaController.actionObj.nome}" size="40" />
					<h:outputLabel value="Telefone:" for="telefone" />
					<p:inputText label="nome"
						value="#{pessoaController.actionObj.telefone}" size="40" />
					<p:commandButton id="btnSalvar" value="Salvar"
						actionListener="#{pessoaController.insert}" 
						onclick="pessoaInsertUpdateDialog.hide()" />
				</h:panelGrid>
			</p:dialog>

			<p:confirmDialog message="Deseja realmente excluir este registro?"
				hideEffect="explode" header="Aviso" severity="alert"
				widgetVar="confirmation" modal="true">
				<div align="center">
					<p:commandButton id="btnSim" value="Sim"
						oncomplete="confirmation.hide();"
						actionListener="#{pessoaController.delete}" process="@form"
						/>
					<p:commandButton id="btnNao" value="NÃ£o"
						onclick="confirmation.hide();" type="button" />
				</div>
			</p:confirmDialog>
		</h:form>
	</p:tab>
	</p:tabView>
</h:body>
</html>